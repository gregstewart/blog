---
layout: post
title: CFMX7
tags: []
status: publish
type: post
published: true
meta: {}
---
Well I just got my hands on a copy of CFMX7 and like most CFML'ers eagerly proceeded to install the latest addition to the ColdFusion server family onto my windows development machine. This, sadly, turned out to be more painful than it really ought to be. Like many others, I encountered the "Please select another location to install to" after launching the installer. The root cause apparently a corrupted download. Hmm so much for first impressions. A couple more attempts at downloading the installer and still the same problem.

Since I already had JRun 4 running on my dev machine I decided to try deploying cfmx 7 as a J2EE application and proceeded to download the jar file of CFMX7. This approach proved to be far more successful. One note to the unwary make sure the folder names where your JRun install may reside do not have spaces in them. The JMC may run fine but you instances won't start up.

Once downloaded simply double click on the downloaded jar file to start the process, which should start the installer. All this really does is create a CFMX folder with instructions on deploying CFMX 7 and the cfusion.ear file (if you chose the ear option when you ran the installer). Please note: I am not making use of RDS so these instructions don't include hints for deploying RDS, the ReadMe generated by the installer covers this. All the instructions below can also be found in ReadMe I just mentioned.
<ol>
	<li>Go to the command line, and go to your directory that contains the EAR file you just created with the installer and make a new directory named cfusion-ear</li>
	<li>Change to the cfusion-ear directory and expand the cfusion.ear file with the jar command: "{path to Java home}/bin/jar -xvf ../cfusion.ear". This expands the cfusion.ear file into cfusion-ear</li>
	<li>In cfusion-ear, make a new directory named cfusion-war and change to it, now expand the cfusion.war file using the jar command again: {path to Java home}/bin/jar -xvf ../cfusion.war</li>
	<li>Go back to your cfusion-ear folder, and delete the cfusion.war file</li>
	<li>Open the cfusion-ear/META-INF/application.xml file in a text editor and change the web-uri element from cfusion.war to cfusion-war. Save your changes.</li>
</ol>
Now you have a fully configured cfmx ear, which you can easily deploy on your J2EE server of choice. The process is the same as with creating CFMX 6.1 instances, i.e. (and I assume you are using JRun)
<ol>
	<li>Create a new server instance using the JMC</li>
	<li>Start the instance and then un-deploy the Flash Remoting EAR.</li>
	<li>Stop the instance again and navigate to the instance folder {path to Jrun}\JRun4\servers\{instance name}</li>
	<li>Delete default-ear and copy over your cfusion-ear</li>
	<li>Now restart your newly created instance and CFMX will be deployed.</li>
</ol>
Now all that you need to do is configure your instance to talk to your web server and you are done. As I said in the beginning, it's not as smooth as it could be. The corrupted downloads really are a nuisance and really dampen an otherwise exciting prospect.
