---
layout: post
title: Daily scheduled backup to disk (SQL 7.0)
tags: []
status: publish
type: post
published: true
meta: {}
---
<h3>Daily scheduled backup to disk (SQL 7.0)</h3>
<p class="1">This document will show you how to configure SQL server 7.0 to back up selected databases (Db) to the hard disk. This is useful if you don't have a lot of money to play with for a backup solution and need your databases to be up and running pretty much 24/7. Backing up a database to the hard disk is a lot quicker than backing up to tape, hence your Db is available a lot quicker again to users. Once stored on disk you can schedule another task to back up the Db to tape, giving you added security for more information on scheduling a backup using the NT backup software click here. So let's get going.</p>

<p class="1"><b>Configuring the Backup</b><br />
Right first let's open up the Enterprise Manager (Management Console) and select your server and expand the tree. Now select <i>Management</i> and expand that branch as well.</p>

<p class="1">Right click on the <i>Backup</i> option and from the drop down menu select <i>New Backup Device</i>. From the dialogue box, on the <i>General tab</i>, enter the name of your backup device in the <i>Name:</i> box. You'll notice that as you are entering the device name that it is replicated in the field labelled <i>File name:</i> and has the extension <i>.bak</i> appended to it. By default SQL server stores the back up device in &lt;drive letter&gt;:mssql7ackup. Once you have entered all the details click OK</p>

<p class="1">Right click on the <i>Backup</i> option again and select <i>Backup database</i>. On the Dialogue box that appears (labelled <i>SQL Server Backup</i>, you will have to fill in a number of details split into five section.In section 1 you start by specifying the Db you wish to backup from the drop down menu labelled <i>Database:</i>. Next you specify the name of the backup (from the field <i>Name:</i>). This name is dynamically allocated, but you can override this and enter your own name if you so wish. You can now optionally enter some details about the backup in the <i>Description</i> field. In section 2 you can specify the type of backup you wish to perform. By default <i>Database - complete</i> is selected. But you can also carry out a differential backup. The other options are greyed out and I will talk about these at a later date. The third section is the <i>Destination</i> section. Here you select your backup device, which you created earlier on. You do this by clicking <i>Add...</i>. Another dialogue box appears giving you the option to select to either backup your Db to a file or the device you created earlier on by checking the appropriate radio button. If you check the <i>Backup device</i> option you can select the appropriate one from the dropdown box. Submit your selection by clicking OK. The fourth section allows you to specify a few more options for your backup type, namely whether you wish to <i>Append to media</i>(add to your existing backup set, without overwriting) or <i>Overwrite existing media</i>(overwrite your existing backup set). In the fifth and final option, you set your backup to scheduled by ticking the <i>Schedule:</i> checkbox you and then click the browse button to specify day, time, and frequency.</p>

<p class="1"><b>Scheduling the backup</b><br />
First you need to give your schedule a name. You do this by entering the schedule name in the <i>Name:</i> field. For your back up to occur on a daily basis make sure that in the <i>Schedule type:</i> section, the option for <i>recurring</i> is selected [this by the way is the default selection]. By clicking on the <i>Change</i> button you open a new dialogue that allows you to set the interval, days and time at which you wish to have your backup <i>occur</i>. First off you can set the frequency to either daily, weekly or monthly. For our purpose we set it to daily and in the <i>daily</i> section we set the number of days to <b>1</b>. If we wanted the backup to occur every second day, we would set that value to <b>2</b>. Moving along, you can now set the frequency of the daily backup (<i>Daily frequency</i>). We will want to set the back up to occur once every day at a time when usage is at it's lowest (bearing in mind that the web is up 24/7:o)). So make sure the radio button <i>Occurs once at:</i> is checked and specify the time, say <b>2:00</b>. In the final section you can specify the <i>duration</i>, i.e. you can set a start and end date. For the purpose of this exercise, set the start date to today and set <i>no end date</i>. Click OK to complete the recurrence schedule and OK again to finish configuring the schedule. Click OK one more time and you have configured the backup.</p>
<p class="1">There are two things you should now check to ensure that your scheduled backup will take place and successful. First off make sure that the <b>SQL Server Agent</b> is started (also in the <i>Management</i> branch. Secondly please make sure that your <b>Task Scheduler</b> (if you have IE5 installed on your machine) or that the <b>Scheduler</b> (for IE4 and below) service has been started. That's it should all work like clockwork now. For more information on SQL Server Administration, check out <a href="http://www.amazon.co.uk/exec/obidos/ASIN/0672312263/armagossacom">SQL Server 7 DBA Survival Guide</a>. As ever comments and suggestions welcome.</p>
